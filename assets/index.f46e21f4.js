import{d as w,r as A,a as x,c as L,o as v,b as k,e as u,t as h,u as b,f as M,g as C,h as E}from"./vendor.278eec5b.js";const B=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}};B();const g={"+":{calc:(t,e)=>t+e,predicate:(t,e)=>!0,operand_num:2},"-":{calc:(t,e)=>t-e,predicate:(t,e)=>!0,operand_num:2},"*":{calc:(t,e)=>t*e,predicate:(t,e)=>!0,operand_num:2},"/":{calc:(t,e)=>t/e,predicate:(t,e)=>e!==0,operand_num:2},gcd:{calc:(t,e)=>O(Math.abs(t),Math.abs(e)),predicate:(t,e)=>Number.isInteger(t)&&Number.isInteger(e),operand_num:2},power:{calc:(t,e)=>Math.pow(t,e),predicate:(t,e)=>!0,operand_num:2},"//":{calc:(t,e)=>Math.floor(t/e),predicate:(t,e)=>e!==0&&Number.isInteger(t)&&Number.isInteger(e),operand_num:2},mod:{calc:(t,e)=>t%e,predicate:(t,e)=>e!==0&&Number.isInteger(t)&&Number.isInteger(e),operand_num:2},comb:{calc:(t,e)=>P(t,e),predicate:(t,e)=>Number.isInteger(t)&&Number.isInteger(e)&&t>=e&&e>=0,operand_num:2},xor:{calc:(t,e)=>t^e,predicate:(t,e)=>Number.isInteger(t)&&Number.isInteger(e),operand_num:2},"!":{calc:t=>N(1,t),predicate:t=>Number.isInteger(t)&&t>=0,operand_num:1},"a^2":{calc:t=>t*t,predicate:t=>!0,operand_num:1},avg:{calc:(t,e)=>(t+e)/2,predicate:(t,e)=>!0,operand_num:2}},O=(t,e)=>e?O(e,t%e):t;function N(t,e){let s=t,o=t;for(;o++<e;)s*=o;return s}function P(t,e){return t==e?1:(e=e<t-e?t-e:e,Math.floor(N(e+1,t)/N(1,t-e)))}const S=t=>Math.floor(Math.random()*t),I=t=>{for(let e=t.length-1;e>0;e--){const s=S(e+1);[t[e],t[s]]=[t[s],t[e]]}},$=(()=>{const t=Array.from({length:13},(s,o)=>o+1);return t.concat(t).concat(t).concat(t)})(),j=(t=4,e=4,s=24)=>{for(;;){const o=Object.keys(g);I(o),I($);const n=o.slice(0,t),r=$.slice(0,e),{is_exist:l,solution:c,solution_detail:_}=G(n,r,s);if(l)return{operations:n,cards:r,solution:c,solution_detail:_}}},D=t=>{if(t.length===0)return t;t.reverse();let e=[];const s=t[0][1];for(const[o,n,...r]of t){let l=-1;for(let c=0;c<e.length;c++)if(e[c]===n){l=c;break}l===-1?r.length===1?e.push(o,r[0]):e.push(r[0],o,r[1]):r.length===1?e.splice(l,1,"(",o,r[0],")"):e.splice(l,1,"(",r[0],o,r[1],")")}return t.reverse(),e.push("=",s),e.join(" ")},V=t=>{if(t.length===0)return t;let e=[];for(const[s,o,...n]of t)n.length===1?e.push(`${s} ${n[0]} = ${o}`):e.push(`${n[0]} ${s} ${n[1]} = ${o}`);return e},G=(t,e,s=24)=>{let o=[];const n=5e3,r=5,l=(c,_=0)=>{if(c.length===1)return Math.abs(c[0]-s)<Number.EPSILON;if(_>r)return!1;I(t);for(const f of t)if(g[f].operand_num===1)for(let a=0;a<c.length;a++){const i=c.filter((p,m)=>a!==m),d=c[a];if(g[f].predicate(d)){const p=g[f].calc(d);if(p>n||p===d)continue;if(o.push([f,p,d]),l(i.concat([p]),_+1))return!0;o.pop()}}else if(g[f].operand_num===2)for(let a=0;a<c.length;a++)for(let i=a+1;i<c.length;i++){const d=c.filter((p,m)=>a!==m&&i!==m);for(const[p,m]of[[c[a],c[i]],[c[i],c[a]]])if(g[f].predicate(p,m)){const y=g[f].calc(p,m);if(y>n)continue;if(o.push([f,y,p,m]),l(d.concat([y]),_+1))return!0;o.pop()}}return!1};return{is_exist:l(e),solution:D(o),solution_detail:V(o)}};var T=(t,e)=>{const s=t.__vccOpts||t;for(const[o,n]of e)s[o]=n;return s};const X={class:"bg-slate-800"},q={class:"font-mono bg-blue-gray-500 rounded-lg border-0 px-3 mt-10"},F={key:0},H={key:1},K=w({setup(t){const e=A(j());let s=[Object.assign({},e)],o=0;const n=x(!1),r=x(0);setInterval(()=>r.value++,1e3);const l=L(()=>new Date(r.value*1e3).toTimeString().substring(3,8)),c=i=>{Object.assign(e,i),r.value=0,n.value=!1},_=()=>{const i=j();for(c(i);s.length>o+1;)s.pop();s.push(Object.assign({},i)),o++},f=()=>{o!==0&&c(s[--o])},a=()=>{if(o===s.length-1){_();return}c(s[++o])};return(i,d)=>(v(),k("div",X,[u("p",null,[u("code",null,h(b(e).operations),1)]),u("p",null,[u("code",null,h(b(e).cards),1)]),u("p",null,[u("button",q,h(b(l)),1)]),u("p",null,[u("button",{class:"font-mono bg-blue-gray-500 rounded-lg border-0 hover:cursor-pointer",onClick:d[0]||(d[0]=p=>n.value=!n.value)},h(n.value?"hide":"show")+" solution ",1),u("button",{class:"font-mono bg-blue-gray-500 rounded-lg border-0 hover:cursor-pointer mx-5",onClick:_}," new one ")]),n.value?(v(),k("p",F,[u("code",null,h(b(e).solution),1)])):M("",!0),n.value?(v(),k("p",H,[u("code",null,h(b(e).solution_detail),1)])):M("",!0),u("button",{class:"triangle_left hover:cursor-pointer absolute top-20 left-0",onClick:f}),u("button",{class:"triangle_right hover:cursor-pointer absolute top-20 right-0",onClick:a})]))}});var U=T(K,[["__scopeId","data-v-4ec2aa11"]]);const z=w({setup(t){return(e,s)=>(v(),C(U,{class:"mt-30"}))}});E(z).mount("#app");
